import{u}from"./usePolling-fYbqRw8i.js";import{f as o,b as g,u as _,q as m,a as t,t as r,F as i,g as d,h as p,d as y,o as n}from"./app-A4PEbC9S.js";const b={class:"min-h-screen bg-white"},h={class:"bg-[#800000] text-white py-6"},v={class:"container mx-auto px-8"},f={class:"flex justify-between items-center"},w={class:"text-right"},N={class:"text-3xl font-bold"},k={class:"container mx-auto px-8 py-8"},S={class:"mb-12"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},B={class:"bg-[#800000] text-white text-center py-3 rounded-lg mb-6"},D={class:"text-3xl font-bold"},F={class:"text-center mb-4"},C={class:"bg-[#FFC107] rounded-lg py-8"},V={class:"text-7xl font-bold text-[#800000]"},E={class:"text-center text-gray-700 space-y-1"},Q={class:"text-lg font-semibold"},T={class:"text-sm text-gray-500"},j={key:0,class:"text-center py-12"},A={class:"bg-gray-50 border-2 border-gray-200 rounded-lg p-8"},I={key:0,class:"grid grid-cols-2 md:grid-cols-5 gap-4"},L={class:"text-xs text-gray-500 mb-2"},P={class:"text-4xl font-bold text-[#800000]"},W={class:"text-sm text-gray-600 mt-3"},G={key:1,class:"text-center py-8"},M=2e3,H={__name:"Board",setup(O){const l=y({windows:[],next_queues:[],timestamp:null});u(async()=>{try{const a=await fetch("/display/data");l.value=await a.json()}catch(a){console.error("Failed to fetch display data:",a)}},M);const c=a=>a?new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"—";return(a,e)=>(n(),o("div",b,[g(_(m),{title:"Queue Display"}),t("header",h,[t("div",v,[t("div",f,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-4xl font-bold"},"Smart Queuing System"),t("p",{class:"text-yellow-200 text-lg mt-1"},"Batangas Eastern Colleges")],-1)),t("div",w,[e[0]||(e[0]=t("p",{class:"text-sm text-yellow-200"},"Current Time",-1)),t("p",N,r(c(l.value.timestamp)),1)])])])]),t("main",k,[t("div",S,[e[4]||(e[4]=t("h2",{class:"text-3xl font-bold text-[#800000] mb-6"},"Now Serving",-1)),t("div",q,[(n(!0),o(i,null,d(l.value.windows,s=>(n(),o("div",{key:s.id,class:"bg-white border-4 border-[#800000] rounded-lg p-8"},[t("div",B,[t("h3",D,r(s.name),1)]),t("div",F,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-600 mb-2"},"NOW SERVING",-1)),t("div",C,[t("p",V,r(s.current?.queue_number??"—"),1)])]),t("div",E,[t("p",Q,r(s.current?.client_name||"Waiting for next"),1),t("p",T,r(s.current?.service_category||"—"),1)])]))),128))]),l.value.windows.length===0?(n(),o("div",j,[...e[3]||(e[3]=[t("p",{class:"text-gray-500 text-xl"},"No active windows",-1)])])):p("",!0)]),t("div",A,[e[6]||(e[6]=t("h3",{class:"text-2xl font-bold text-[#800000] mb-6 text-center"},"Next in Queue",-1)),l.value.next_queues.length>0?(n(),o("div",I,[(n(!0),o(i,null,d(l.value.next_queues,(s,x)=>(n(),o("div",{key:s.queue_number,class:"bg-white border-2 border-[#800000] rounded-lg p-6 text-center"},[t("p",L,"Position "+r(x+1),1),t("p",P,r(s.queue_number),1),t("p",W,r(s.service_category||"N/A"),1)]))),128))])):(n(),o("div",G,[...e[5]||(e[5]=[t("p",{class:"text-gray-500 text-lg"},"No queues waiting",-1)])]))])]),e[7]||(e[7]=t("footer",{class:"bg-gray-100 py-4 mt-12"},[t("div",{class:"container mx-auto px-8 text-center"},[t("p",{class:"text-sm text-gray-600"},"Auto-refreshing every 2 seconds")])],-1))]))}};export{H as default};
