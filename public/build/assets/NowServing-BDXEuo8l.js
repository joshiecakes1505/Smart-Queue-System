import{u as x}from"./usePolling-fYbqRw8i.js";import{f as s,a as e,F as d,g as c,y as g,d as p,o,t as r}from"./app-A4PEbC9S.js";const _={class:"min-h-screen bg-[#f7f5f3] py-4 px-3 sm:px-4"},m={class:"max-w-5xl mx-auto space-y-4"},h={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},v={class:"text-sm font-semibold text-[#800000]"},b={class:"mt-3 bg-[#800000] text-white rounded-lg p-4 text-center"},y={class:"text-4xl font-bold leading-none"},f={class:"text-xs text-gray-500 mt-2"},w={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-4"},k={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2"},N={class:"text-lg font-bold text-[#800000]"},B={class:"text-xs text-gray-500"},D={key:1,class:"text-sm text-gray-500"},E={__name:"NowServing",setup(S){const i=p({windows:[],next:[]}),u=g(()=>i.value.windows||[]),l=g(()=>i.value.next||[]);return x(async()=>{try{const a=await fetch("/public/live");if(!a.ok)return;i.value=await a.json()}catch(a){console.error("Failed to fetch public live data:",a)}},3e3),(a,n)=>(o(),s("div",_,[e("div",m,[n[1]||(n[1]=e("div",{class:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 text-center"},[e("p",{class:"text-xs uppercase tracking-wide text-gray-500"},"Batangas Eastern Colleges"),e("h1",{class:"text-xl font-semibold text-[#800000]"},"Now Serving")],-1)),e("div",h,[(o(!0),s(d,null,c(u.value,t=>(o(),s("div",{key:t.id,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-4"},[e("p",v,r(t.name),1),e("div",b,[e("p",y,r(t.current?.queue_number||"â€”"),1)]),e("p",f,r(t.assigned_user||"Unassigned"),1)]))),128))]),e("div",w,[n[0]||(n[0]=e("p",{class:"text-sm font-semibold text-[#800000] mb-3"},"Next in Queue",-1)),l.value.length?(o(),s("div",k,[(o(!0),s(d,null,c(l.value,t=>(o(),s("div",{key:t.queue_number,class:"bg-gray-50 rounded-lg px-3 py-2 text-center"},[e("p",N,r(t.queue_number),1),e("p",B,r(t.service_category||"General"),1)]))),128))])):(o(),s("p",D,"No waiting queues"))])])]))}};export{E as default};
