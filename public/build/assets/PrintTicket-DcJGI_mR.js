import{_ as p}from"./AuthenticatedLayout-DHRYX0-q.js";import{C as b,c as g,w as y,a as t,t as r,y as x,o as h}from"./app-A4PEbC9S.js";const _={class:"max-w-4xl mx-auto"},f={class:"mb-6 flex gap-4 print:hidden"},T=["href"],w={class:"bg-white rounded-lg shadow-lg p-8 print:shadow-none print:p-4"},q={class:"space-y-4 mb-6"},v={class:"text-center bg-[#800000] text-white py-8 rounded-lg"},C={class:"text-6xl font-bold"},k={class:"grid grid-cols-2 gap-4 text-sm"},S={class:"border-l-4 border-[#FFC107] pl-3"},E={class:"font-semibold text-lg"},Q={class:"border-l-4 border-[#FFC107] pl-3"},N={class:"font-semibold text-lg"},P={class:"border-l-4 border-[#FFC107] pl-3"},D={class:"font-semibold text-lg"},F={class:"border-l-4 border-[#FFC107] pl-3"},A={class:"font-semibold text-lg"},$={class:"text-center mb-6"},B=["src"],U={__name:"PrintTicket",props:{queue:{type:Object,required:!0}},setup(o){const i=o,d=x(()=>route("qr.generate",i.queue.queue_number)),c=s=>String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),m=()=>{const s=i.queue,e=route("public.queue.show",s.queue_number);return["BATANGAS EASTERN COLLEGES","SMART QUEUE SYSTEM","--------------------------------",`Queue Number : ${s.queue_number??"N/A"}`,`Client Name  : ${s.client_name||"Walk-in Client"}`,`Client Type  : ${u(s.client_type)}`,`Service      : ${s.service_category?.name||"N/A"}`,`Date & Time  : ${l(s.created_at)}`,"--------------------------------","Track Queue Status (Text-Only):",e,"--------------------------------","Please wait for your queue number","to be called. Thank you!"].join(`
`)},a=()=>{const s=m(),e=document.createElement("iframe");e.style.position="fixed",e.style.right="0",e.style.bottom="0",e.style.width="0",e.style.height="0",e.style.border="0",document.body.appendChild(e);const n=e.contentWindow?.document;if(!n||!e.contentWindow){window.print();return}n.open(),n.write(`
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="utf-8" />
            <title>Queue Ticket</title>
            <style>
                @page { margin: 8mm; }
                body {
                    margin: 0;
                    font-family: monospace;
                    font-size: 14px;
                    line-height: 1.35;
                    white-space: pre-wrap;
                }
            </style>
        </head>
        <body>${c(s)}</body>
        </html>
    `),n.close(),setTimeout(()=>{e.contentWindow.focus(),e.contentWindow.print(),document.body.removeChild(e)},200)};b(()=>{setTimeout(()=>{a()},250)});const l=s=>new Date(s).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=s=>({student:"Student",parent:"Parent",visitor:"Visitor",senior_citizen:"Senior Citizen (Priority)",high_priority:"High Priority"})[s]||s;return(s,e)=>(h(),g(p,{title:"Print Queue Ticket"},{default:y(()=>[t("div",_,[t("div",f,[t("a",{href:s.route("frontdesk.queues.index"),class:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition"}," Back to Dashboard ",8,T),t("button",{onClick:a,class:"bg-[#800000] hover:bg-[#660000] text-white px-6 py-3 rounded-lg font-semibold transition"}," Print Ticket (Text Only) ")]),t("div",w,[e[6]||(e[6]=t("div",{class:"text-center mb-6 border-b-2 border-[#800000] pb-4"},[t("h1",{class:"text-3xl font-bold text-[#800000]"},"Batangas Eastern Colleges"),t("p",{class:"text-lg text-gray-600 mt-1"},"Smart Queue System")],-1)),t("div",q,[t("div",v,[e[0]||(e[0]=t("p",{class:"text-sm font-medium mb-2"},"Queue Number",-1)),t("p",C,r(o.queue.queue_number),1)]),t("div",k,[t("div",S,[e[1]||(e[1]=t("p",{class:"text-gray-600"},"Client Name",-1)),t("p",E,r(o.queue.client_name||"Walk-in Client"),1)]),t("div",Q,[e[2]||(e[2]=t("p",{class:"text-gray-600"},"Client Type",-1)),t("p",N,r(u(o.queue.client_type)),1)]),t("div",P,[e[3]||(e[3]=t("p",{class:"text-gray-600"},"Service Category",-1)),t("p",D,r(o.queue.service_category?.name),1)]),t("div",F,[e[4]||(e[4]=t("p",{class:"text-gray-600"},"Date & Time",-1)),t("p",A,r(l(o.queue.created_at)),1)])])]),t("div",$,[e[5]||(e[5]=t("p",{class:"text-gray-600 text-sm mb-3"},"Scan to track your queue status",-1)),t("img",{src:d.value,alt:"Queue QR Code",class:"mx-auto w-48 h-48 border-4 border-[#800000] rounded-lg"},null,8,B)]),e[7]||(e[7]=t("div",{class:"text-center border-t-2 border-gray-200 pt-4"},[t("p",{class:"text-sm text-gray-600"}," Please wait for your queue number to be called. "),t("p",{class:"text-sm text-gray-600"}," You can track your queue status by scanning the QR code above. "),t("p",{class:"text-xs text-gray-500 mt-2"}," Thank you for your patience! ")],-1))])])]),_:1}))}};export{U as default};
