import{_ as m}from"./AuthenticatedLayout-DHRYX0-q.js";import{i as b,c as _,w as n,a as e,b as c,u as x,l as f,k as p,o as i,f as l,h,F as v,g as w,t as a,r as u}from"./app-A4PEbC9S.js";import{u as C}from"./usePolling-fYbqRw8i.js";const k={class:"bg-white rounded-lg shadow-sm p-6"},S={class:"flex items-center justify-between gap-4 mb-4"},B={class:"overflow-x-auto"},F={class:"w-full"},D={key:0},N={class:"py-3 px-4 font-medium text-gray-900"},A={class:"py-3 px-4 font-semibold text-[#800000]"},V={class:"py-3 px-4 text-gray-700"},E={class:"py-3 px-4 text-gray-700"},T={class:"py-3 px-4"},$={class:"flex gap-2"},j=["onClick"],M={__name:"Index",props:{categories:{type:Array,default:()=>[]}},setup(g){const r=b("$swal"),d=g,y=async o=>{const t=await r?.fire({icon:"warning",title:"Delete category?",text:"This action cannot be undone.",showCancelButton:!0,confirmButtonText:"Yes, delete"});r&&!t?.isConfirmed||u.delete(route("admin.service-categories.destroy",o),{preserveScroll:!0,onSuccess:()=>{r?.fire({icon:"success",title:"Deleted",text:"Service category deleted successfully."})},onError:()=>{r?.fire({icon:"error",title:"Delete failed",text:"Unable to delete service category."})}})};return C(()=>u.reload({only:["categories"],preserveState:!0,preserveScroll:!0}),5e3),(o,t)=>(i(),_(m,{title:"Service Categories"},{default:n(()=>[e("div",k,[e("div",S,[t[1]||(t[1]=e("h1",{class:"text-2xl font-semibold text-[#800000]"},"Service Categories",-1)),c(x(f),{href:o.route("admin.service-categories.create"),class:"bg-[#FFC107] hover:bg-[#FFB300] text-[#800000] px-4 py-2 rounded-lg font-semibold transition"},{default:n(()=>[...t[0]||(t[0]=[p(" Add Category ",-1)])]),_:1},8,["href"])]),e("div",B,[e("table",F,[t[4]||(t[4]=e("thead",null,[e("tr",{class:"border-b border-gray-200"},[e("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Name"),e("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Prefix"),e("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Avg Service (min)"),e("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Max / Day"),e("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Actions")])],-1)),e("tbody",null,[d.categories.length===0?(i(),l("tr",D,[...t[2]||(t[2]=[e("td",{colspan:"5",class:"text-center py-8 text-gray-500"},"No service categories found.",-1)])])):h("",!0),(i(!0),l(v,null,w(d.categories,s=>(i(),l("tr",{key:s.id,class:"border-b border-gray-100 hover:bg-gray-50"},[e("td",N,a(s.name),1),e("td",A,a(s.prefix),1),e("td",V,a(s.avg_service_seconds?(s.avg_service_seconds/60).toFixed(1):"—"),1),e("td",E,a(s.max_queues_per_day||"—"),1),e("td",T,[e("div",$,[c(x(f),{href:o.route("admin.service-categories.edit",s.id),class:"border-2 border-[#800000] hover:bg-[#800000] hover:text-white text-[#800000] px-3 py-1 rounded-lg font-semibold transition"},{default:n(()=>[...t[3]||(t[3]=[p(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:P=>y(s.id),class:"border-2 border-red-600 hover:bg-red-600 hover:text-white text-red-600 px-3 py-1 rounded-lg font-semibold transition"}," Delete ",8,j)])])]))),128))])])])])]),_:1}))}};export{M as default};
