import{d as y,c as b,w as h,a as t,e as _,v as f,t as o,o as r,f as d,F as a,g as n,h as u,r as p}from"./app-A4PEbC9S.js";import{_ as v}from"./AuthenticatedLayout-DHRYX0-q.js";import{u as w}from"./usePolling-fYbqRw8i.js";const k={class:"space-y-6"},C={class:"bg-white rounded-lg shadow-sm p-6"},S={class:"flex flex-wrap items-end justify-between gap-4"},B={class:"flex items-end gap-3"},D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},F={class:"bg-white rounded-lg shadow-sm p-6"},T={class:"text-3xl font-bold text-[#800000]"},V={class:"bg-white rounded-lg shadow-sm p-6"},j={class:"text-3xl font-bold text-green-600"},N={class:"bg-white rounded-lg shadow-sm p-6"},P={class:"text-3xl font-bold text-blue-600"},H={class:"bg-white rounded-lg shadow-sm p-6"},L={class:"text-3xl font-bold text-purple-600"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},R={class:"bg-white rounded-lg shadow-sm p-6"},q={class:"space-y-2"},z={class:"text-gray-700"},A={class:"font-semibold text-[#800000]"},W={class:"bg-white rounded-lg shadow-sm p-6"},E={class:"space-y-2"},M={class:"text-gray-700"},O={class:"font-semibold text-[#800000]"},U={key:0,class:"text-gray-500"},$={class:"bg-white rounded-lg shadow-sm p-6"},G={class:"overflow-x-auto"},I={class:"w-full"},J={key:0},K={class:"py-3 px-4"},X={class:"py-3 px-4"},Y={class:"py-3 px-4"},Z={class:"py-3 px-4"},tt={class:"bg-white rounded-lg shadow-sm p-6"},et={class:"overflow-x-auto"},st={class:"w-full"},ot={class:"py-2 px-4"},lt={class:"py-2 px-4"},nt={__name:"Daily",props:{metrics:{type:Object,required:!0}},setup(l){const c=y(l.metrics.selected_date),g=()=>{p.get(route("admin.reports.daily"),{date:c.value},{preserveState:!0,replace:!0})},x=i=>{switch(i){case"waiting":return"Waiting";case"called":return"Called";case"completed":return"Completed";case"skipped":return"Skipped";default:return i}},m=i=>({student:"Student",parent:"Parent",visitor:"Visitor",senior_citizen:"Senior Citizen (Priority)",high_priority:"High Priority"})[i]||i;return w(()=>p.reload({only:["metrics"],preserveState:!0,preserveScroll:!0}),5e3),(i,e)=>(r(),b(v,{title:"Daily Reports"},{default:h(()=>[t("div",k,[t("div",C,[t("div",S,[e[2]||(e[2]=t("h1",{class:"text-2xl font-semibold text-[#800000]"},"Daily Reports",-1)),t("div",B,[t("div",null,[e[1]||(e[1]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date",-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"date",class:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#800000]"},null,512),[[f,c.value]])]),t("button",{onClick:g,class:"bg-[#FFC107] hover:bg-[#FFB300] text-[#800000] px-4 py-2 rounded-lg font-semibold transition"}," Apply ")])])]),t("div",D,[t("div",F,[e[3]||(e[3]=t("p",{class:"text-gray-600 text-sm"},"Total Queues",-1)),t("p",T,o(l.metrics.total_queues),1)]),t("div",V,[e[4]||(e[4]=t("p",{class:"text-gray-600 text-sm"},"Completed",-1)),t("p",j,o(l.metrics.completed),1)]),t("div",N,[e[5]||(e[5]=t("p",{class:"text-gray-600 text-sm"},"Completion Rate",-1)),t("p",P,o(l.metrics.completion_rate)+"%",1)]),t("div",H,[e[6]||(e[6]=t("p",{class:"text-gray-600 text-sm"},"Avg Service Time",-1)),t("p",L,o(l.metrics.average_service_minutes)+"m",1)])]),t("div",Q,[t("div",R,[e[7]||(e[7]=t("h2",{class:"text-xl font-semibold text-[#800000] mb-4"},"Status Breakdown",-1)),t("div",q,[(r(!0),d(a,null,n(l.metrics.status_breakdown,s=>(r(),d("div",{key:s.status,class:"flex items-center justify-between border border-gray-100 rounded-lg px-4 py-3"},[t("span",z,o(x(s.status)),1),t("span",A,o(s.count),1)]))),128))])]),t("div",W,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold text-[#800000] mb-4"},"Client Type Breakdown",-1)),t("div",E,[(r(!0),d(a,null,n(l.metrics.client_breakdown,s=>(r(),d("div",{key:s.client_type,class:"flex items-center justify-between border border-gray-100 rounded-lg px-4 py-3"},[t("span",M,o(m(s.client_type)),1),t("span",O,o(s.count),1)]))),128)),l.metrics.client_breakdown.length===0?(r(),d("div",U,"No data for this date.")):u("",!0)])])]),t("div",$,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold text-[#800000] mb-4"},"Service Category Breakdown",-1)),t("div",G,[t("table",I,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Service Category"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Total"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Completed"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Waiting")])],-1)),t("tbody",null,[l.metrics.service_category_breakdown.length===0?(r(),d("tr",J,[...e[9]||(e[9]=[t("td",{colspan:"4",class:"text-center py-8 text-gray-500"},"No category activity for this date.",-1)])])):u("",!0),(r(!0),d(a,null,n(l.metrics.service_category_breakdown,s=>(r(),d("tr",{key:s.service_category,class:"border-b border-gray-100"},[t("td",K,o(s.service_category),1),t("td",X,o(s.total),1),t("td",Y,o(s.completed),1),t("td",Z,o(s.waiting),1)]))),128))])])])]),t("div",tt,[e[13]||(e[13]=t("h2",{class:"text-xl font-semibold text-[#800000] mb-4"},"Hourly Queue Volume",-1)),t("div",et,[t("table",st,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Hour"),t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Queues Created")])],-1)),t("tbody",null,[(r(!0),d(a,null,n(l.metrics.hourly_data,s=>(r(),d("tr",{key:s.hour,class:"border-b border-gray-100"},[t("td",ot,o(s.hour),1),t("td",lt,o(s.count),1)]))),128))])])])])])]),_:1}))}};export{nt as default};
